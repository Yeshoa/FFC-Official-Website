---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";
import { getMemberImage } from "@lib/memberUtils";
const { currentTournament, members } = Astro.props;
import Star from "@images/icons/star-solid.svg";
---

<section class="max-custom-high w-full overflow-hidden relative">
    <div class="flex w-full h-full">
        <article class=" w-1/3 h-full bg-green-950 flex justify-center 2xl:gap-10 flex-col text-center">
            <div class="relative mb-5 after:w-3/5 after:h-1 after:bg-gradient-to-r after:from-transparent after:via-white after:to-transparent after:absolute after:bottom-0 after:left-1/2 after:-translate-x-1/2 after:rounded-full">
                <Image
                    src={currentTournament.banner}
                    class="w-auto max-w-90 max-h-33 2xl:max-w-120 2xl:max-h-45 mx-auto relative pb-8 2xl:pb-14 after-element"
                    alt={currentTournament.name}
                    loading={"eager"}
                    format="webp"
                />
            </div>
            <div>
                <h2 class="text-gray-400 text-2xl mb-2">CHAMPION</h2>
                <h3 class="font-bold text-4xl">{currentTournament.champion.toUpperCase()}</h3>
                <Star class="w-8 h-8 mx-auto mt-2 fill-amber-400" />
                <div class="">
                    <Image
                        src={getMemberImage(currentTournament.champion, members)}
                        class="w-auto max-w-40 z-8 h-auto max-h-40 mx-auto mt-4 border-2 rounded-xl border-amber-400"
                        alt={currentTournament.champion}
                        loading={"eager"}
                        format="webp"
                    />
                </div>
            </div>
        </article>
        <Image
            src={currentTournament.heroImg}
            class="object-cover w-2/3 h-full"
            alt={currentTournament.name}
            loading={"eager"}
            format="webp"
        />
    </div>
    <div class="absolute w-full h-full top-0 left-1/3 bg-gradient-to-r  from-green-950 to-15% to-transparent">
    </div>
</section>

<style>
    .max-custom-high {
        height: calc(100svh - 72px);
    }

</style>
