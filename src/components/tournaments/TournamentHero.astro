---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";
import { getMemberImage } from "@lib/memberUtils";
import Star from "@images/icons/star-solid.svg";

const { currentTournament, champion } = Astro.props;
---

<section class="max-custom-high w-full overflow-hidden relative">
    <div class="flex w-full h-full flex-col lg:flex-row">
        <article class=" w-full lg:w-1/3 h-1/2 lg:h-full bg-green-950 flex justify-center 2xl:gap-10 flex-col text-center">
            <div class="flex justify-center mx-auto w-auto max-w-75 lg:max-w-90 max-h-33 2xl:max-w-120 2xl:max-h-45 relative mb-5 after:w-3/5 after:h-1 after:bg-gradient-to-r after:from-transparent after:via-white after:to-transparent after:absolute after:bottom-0 after:left-1/2 after:-translate-x-1/2 after:rounded-full">
                <Image
                    src={currentTournament.banner}
                    class="w-full h-full relative pb-2 lg:pb-8 2xl:pb-14 after-element"
                    alt={currentTournament.name}
                    width={500}
                    loading={"eager"}
                    quality={40}
                    format="webp"
                />
            </div>
            <div class="flex justify-center items-end gap-4 lg:flex-col lg:gap-0 lg:items-center">
                <div>
                    <h2 class="text-gray-400 text-xl lg:text-2xl mb-2">CHAMPION</h2>
                    <a href={`/members/${champion.slug}`} class="font-bold text-2xl lg:text-4xl hover:text-amber-400 transition-all duration-300">{champion.data.name.toUpperCase()}</a>
                </div>
                <div>
                    <Star class="w-8 h-8 mx-auto mt-2 fill-amber-400" />
                    <div class="">
                        <Image
                            src={champion.data.flagPath}
                            class="w-auto max-w-30 lg:max-w-35 z-8 h-auto max-h-25 lg:max-h-40 mx-auto mt-4 border-2 rounded-xl border-amber-400"
                            alt={champion.data.name}
                            width={220}
                            quality={50}
                            loading={"eager"}
                            format="webp"
                        />
                    </div>
                </div>
            </div>
        </article>
        <Image
            src={currentTournament.heroImg}
            class="object-cover w-full lg:w-2/3 h-1/2 lg:h-full"
            alt={currentTournament.name}
            quality={90}
            loading={"eager"}
            format="webp"
        />
    </div>
    <div class="absolute w-full h-full top-1/2 lg:top-0 left-0 lg:left-1/3 bg-gradient-to-b lg:bg-gradient-to-r from-green-950 to-15% to-transparent">
    </div>
</section>

<style>
    .max-custom-high {
        height: calc(100svh - 72px);
    }

</style>
