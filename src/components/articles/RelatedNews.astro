---
import ArticleCard from '@components/articles/ArticleCard.astro';

interface Props {
  articles: Array<{
    data: {
      title: string;
      image: any;
      date: Date;
      summary?: string;
      tags?: string[];
    };
    slug: string;
  }>;
  max?: number;
}

const { articles, max = 3} = Astro.props;
---

<div class="container mx-auto px-4 py-12">
  <h2 class="text-3xl md:text-4xl font-bold text-white mb-8 text-center">Related News</h2>
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
    {articles.slice(0, max).map(article => (
      <ArticleCard
        title={article.data.title}
        image={article.data.image}
        date={article.data.date}
        summary={article.data.summary}
        tags={article.data.tags}
        href={`/articles/${article.slug}`}
      />
    ))}
  </div>
  <div class="flex justify-center mt-8">
    <a href="/articles" class="inline-block px-8 py-3 bg-green-700 hover:bg-green-600 text-white font-semibold rounded-full shadow-lg transition-all duration-200">
      View All Articles
    </a>
  </div>
  {articles.length === 0 && (
    <p class="text-green-200 mt-8 text-center">No news published yet.</p>
  )}
</div>